(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow_back.d4d545f1.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/git.6f4f1f61.svg"},function(e,t,a){e.exports=a.p+"static/media/in.615d402a.svg"},,function(e,t,a){e.exports=a.p+"static/media/cart.2c91ce7e.svg"},,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/freeship.ded7f22d.svg"},,function(e,t,a){e.exports=a.p+"static/media/logo_frontend_store.9a82486b.svg"},function(e,t,a){e.exports=a.p+"static/media/banner.2396a435.png"},function(e,t,a){e.exports=a.p+"static/media/cart_empty.7085893a.svg"},function(e,t,a){e.exports=a.p+"static/media/user.6cd35e6c.png"},function(e,t,a){e.exports=a(55)},,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),l=(a(41),a(14)),s=a(11),o=a.n(s),m=a(15),u=a(17),d=a(1),h=a(2),p=a(6),g=a(4),E=a(3),v=a(8),b=a(5),f=(a(43),a(30)),y=a.n(f),C=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.product,a=t.title,n=t.price,c=t.thumbnail,i=t.id,l=t.shipping.free_shipping,s=e.addCart,o=this.props.product.available_quantity,m=this.props.product;return r.a.createElement("div",{className:"product-card","data-testid":"product"},r.a.createElement("img",{src:c,alt:a,style:{width:"150px"},className:"product-img"}),r.a.createElement("div",{className:"price-ship"},r.a.createElement("p",{className:"price"},"R$ ".concat(n)),l?r.a.createElement("img",{src:y.a,"data-testid":"free-shipping",className:"ship",alt:"Frete Gr\xe1tis"}):void 0),r.a.createElement("h4",{"data-testid":"product-detail-name",className:!0},a),r.a.createElement(v.b,{to:{pathname:"/details/".concat(i),state:{product:m}},"data-testid":"product-detail-link",className:"viewdetails"},r.a.createElement("p",null,"Ver Detalhes")),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",onClick:function(){return s(m)},value:i,className:"addcart"},r.a.createElement("p",{className:"add"},"Adicionar ao Carrinho"),r.a.createElement("p",{className:"quantity"},"Quantidade dispon\xedvel: ".concat(o))))}}]),a}(n.Component),N=a(32),k=a.n(N),O=a(33),j=a.n(O),I=(a(52),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.fetchProducts,n=e.fetchCategories,c=e.addCart,i=e.categories,l=e.productCards,s=e.cartItems;return i===[]?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"home-header"},r.a.createElement("div",{className:"logo-header"},r.a.createElement("img",{src:k.a,alt:"Front-End Online Store",className:"logo"})),r.a.createElement("div",{className:"form-home"},r.a.createElement("form",{className:"search-bar-home form-search"},r.a.createElement("input",{type:"search","data-testid":"query-input",name:"search",onChange:t,placeholder:"Fa\xe7a sua pesquisa"}),r.a.createElement("i",{className:"fa fa-search","data-testid":"query-button",onClick:a}))),r.a.createElement(v.b,{"data-testid":"shopping-cart-button",to:"/cart"},r.a.createElement("div",{className:"cart-home"},r.a.createElement("div",{className:"cart-items"},r.a.createElement("p",{"data-testid":"shopping-cart-size"},s.reduce((function(e,t){return e+t.quantity}),0)))))),r.a.createElement("div",{className:"main-container-home"},r.a.createElement("div",{className:"category-buttons-container"},r.a.createElement("h2",null,"Categorias"),i.map((function(e){return r.a.createElement("button",{className:"category-buttons",type:"button","data-testid":"category",key:e.id,value:e.id,name:"categoryId",onClick:function(){return n(e.id)}},e.name)}))),r.a.createElement("div",{className:"cards-container"},l?l.map((function(e){return r.a.createElement(C,{key:e.id,product:e,addCart:c})})):r.a.createElement("div",{className:"div-banner"},r.a.createElement("img",{src:j.a,alt:"",className:"banner"})))))}}]),a}(n.Component)),S=a(21),x=a.n(S),w=a(13),q=a.n(w),F=a(34),L=a.n(F),P=(a(23),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"body"},r.a.createElement("header",{className:"cart-header"},r.a.createElement(v.b,{exact:!0,to:"/"},r.a.createElement("img",{src:q.a,alt:"Cart",style:{width:"50px"},className:"back"})),r.a.createElement("h1",null," Carrinho de Compras "),r.a.createElement("img",{src:x.a,alt:"Cart",style:{width:"60px"}})),r.a.createElement("div",{className:"cartbody-empty"},r.a.createElement("img",{src:L.a,alt:"Carrinho vazio"}),r.a.createElement("h2",{className:"empty-cart-message","data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio")))}}]),a}(n.Component)),M=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartItems,a=e.removeCartItem,n=e.increaseItemQuantity,c=e.decreaseItemQuantity;return 0===t.length?r.a.createElement(P,null):r.a.createElement("div",{className:"body"},r.a.createElement("header",{className:"cart-header"},r.a.createElement(v.b,{exact:!0,to:"/"},r.a.createElement("img",{src:q.a,alt:"Cart",className:"back"})),r.a.createElement("h1",null," Carrinho de Compras "),r.a.createElement("img",{src:x.a,alt:"Cart",className:"cart"})),r.a.createElement("div",{className:"carbody"},t.map((function(e){return r.a.createElement("div",{className:"cart-product-container",key:e.id},r.a.createElement("button",{className:"button-clear",onClick:a,type:"button",value:e.id},"X"),r.a.createElement("div",{className:"img-title"},r.a.createElement("img",{className:"image-product-cart",src:e.thumbnail,alt:e.id}),r.a.createElement("p",{className:"cart-product-title","data-testid":"shopping-cart-product-name"},e.title)),r.a.createElement("div",{className:"quantity-item"},r.a.createElement("button",{className:"button-decrease",onClick:c,type:"button",value:e.id,"data-testid":"product-decrease-quantity"},"-"),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},e.quantity),r.a.createElement("button",{className:"button-increase",onClick:e.quantity<e.available_quantity&&n,type:"button",value:e.id,"data-testid":"product-increase-quantity"},"+"),r.a.createElement("p",{className:"avaliable-quantity"},"Dispon\xedvel: ".concat(e.available_quantity))),r.a.createElement("p",{className:"item-price"},"R$ ".concat(e.price," un.")))}))),r.a.createElement("div",{className:"gocheckout"},r.a.createElement("div",{className:"total-price"},"Valor Total da Compra: R$".concat(t.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))),r.a.createElement(v.b,{to:"/checkout"},r.a.createElement("button",{className:"go-to-checkout-button",type:"button","data-testid":"checkout-products",value:t},"Finalizar Compra"))))}}]),a}(n.Component),Q=a(35),J=a.n(Q),D=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.comentario,t=e.email,a=e.comment,n="";switch(e.rate){case"1":n="\u2605";break;case"2":n="\u2605\u2605";break;case"3":n="\u2605\u2605\u2605";break;case"4":n="\u2605\u2605\u2605\u2605";break;case"5":n="\u2605\u2605\u2605\u2605\u2605"}return r.a.createElement("div",{className:"user-comment"},r.a.createElement("img",{src:J.a,alt:"User profile",className:"user-img"}),r.a.createElement("div",{className:"comment-info"},r.a.createElement("p",{className:"comment-rate"},n),r.a.createElement("h4",{className:"comment-email"},t),r.a.createElement("p",{className:"comment-text"},a)))}}]),a}(n.Component),V=(a(27),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={email:"",comment:"",rate:"",comments:[]},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.saveComments2=e.saveComments2.bind(Object(p.a)(e)),e.saveNew=e.saveNew.bind(Object(p.a)(e)),e.handleComments=e.handleComments.bind(Object(p.a)(e)),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.handleComments(e)}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(u.a)({},n,a))}},{key:"handleComments",value:function(e){localStorage[e]&&this.setState({comments:JSON.parse(localStorage.getItem(e))})}},{key:"saveComments2",value:function(){var e=this.state,t=e.comment,a=e.rate,n=this.props.id,r={comment:t,rate:a};if(0===a)console.log("N\xe3o h\xe1 avalia\xe7\xe3o");else{var c=localStorage.getItem(n);if(c){var i=JSON.parse(c);localStorage.setItem(n,JSON.stringify([].concat(Object(l.a)(i),[r]))),this.setState({comments:i})}else localStorage.setItem(n,JSON.stringify([r]))}}},{key:"saveNew",value:function(){var e={},t=this.state,a=t.email,n=t.comment,r=t.rate,c=this.props.id;if(""===r)console.log("N\xe3o h\xe1 avalia\xe7\xe3o");else{if(e.email=a,e.comment=n,e.rate=r,localStorage[c]){var i=JSON.parse(localStorage.getItem(c));console.log(i),localStorage.setItem(c,JSON.stringify([].concat(Object(l.a)(i),[e])))}else localStorage.setItem(c,JSON.stringify([e]));this.handleComments(c)}}},{key:"render",value:function(){var e=this.state.comments;return r.a.createElement("div",{className:"form-avaliation"},r.a.createElement("h3",null,"Escrever Avalia\xe7\xf5es"),r.a.createElement("form",{className:"form-comments"},r.a.createElement("div",{className:"form-email"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement("div",{className:"text-area"},r.a.createElement("textarea",{type:"text",onChange:this.handleChange,placeholder:"Mensagem(Opcional)","data-testid":"product-detail-evaluation",name:"comment"})),r.a.createElement("div",{className:"rating-submit"},r.a.createElement("div",{role:"radiogroup",className:"radio-group"},r.a.createElement("h4",{className:"product-class"},"Classifique o produto"),r.a.createElement("span",{className:"star-cb-group"},r.a.createElement("input",{type:"radio",id:"rating-5",name:"rate",value:"5",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-5"},"5"),r.a.createElement("input",{type:"radio",id:"rating-4",name:"rate",value:"4",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-4"},"4"),r.a.createElement("input",{type:"radio",id:"rating-3",name:"rate",value:"3",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-3"},"3"),r.a.createElement("input",{type:"radio",id:"rating-2",name:"rate",value:"2",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-2"},"2"),r.a.createElement("input",{type:"radio",id:"rating-1",name:"rate",value:"1",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-1"},"1"),r.a.createElement("input",{type:"radio",id:"rating-0",name:"rate",value:"0",className:"star-cb-clear",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"rating-0"},"0"))),r.a.createElement("div",null,r.a.createElement("button",{type:"button","aria-label":"Save","data-testid":"query-button",onClick:this.saveNew,className:"avaliate"},"Avaliar")))),r.a.createElement("div",{className:"avaliations"},r.a.createElement("h3",null,"Avalia\xe7\xf5es do Produto"),e.map((function(e,t){return r.a.createElement(D,{key:t,comentario:e})}))))}}]),a}(n.Component)),A=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.location.state.product,a=e.addCart,n=e.cartItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"detail-header"},r.a.createElement(v.b,{exact:!0,to:"/"},r.a.createElement("img",{src:q.a,alt:"Home",className:"back"})),r.a.createElement("h1",null," Detalhes "),r.a.createElement(v.b,{"data-testid":"shopping-cart-button",to:"/cart"},r.a.createElement("div",{className:"cart-home"},r.a.createElement("div",{className:"cart-items"},r.a.createElement("p",{"data-testid":"shopping-cart-size"},n.reduce((function(e,t){return e+t.quantity}),0)))))),r.a.createElement("div",{className:"detail-product"},r.a.createElement("div",{className:"product-img"},r.a.createElement("img",{src:t.thumbnail,alt:t.title})),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{"data-testid":"product"},r.a.createElement("h4",{"data-testid":"product-detail-name"},t.title),r.a.createElement("p",{className:"item-price"},"R$ ".concat(t.price)),r.a.createElement("br",null),r.a.createElement("div",{className:"details-resume"},r.a.createElement("h5",null,"Detalhes"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non vestibulum ex, nec viverra odio. Integer magna urna, ultricies vel ultrices eget, ultrices id nunc. Nunc rhoncus auctor elit, et interdum mauris porttitor eget. Praesent pulvinar elit luctus est laoreet ornare. "))),r.a.createElement("br",null),r.a.createElement("button",{className:"add-cart-detail","data-testid":"product-detail-add-to-cart",type:"button",onClick:function(){return a(t)},value:t.id},"Adicionar ao carrinho"))),r.a.createElement("div",null,r.a.createElement(V,{id:t.id})))}}]),a}(n.Component),H=(a(28),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.handleSubmit;return r.a.createElement("form",{className:"checkout-form"},r.a.createElement("fieldset",{className:"client-info"},r.a.createElement("h2",null,"Informa\xe7\xf5es do Comprador"),r.a.createElement("div",{className:"name-cpf"},r.a.createElement("label",{htmlFor:"checkout-fullname"},r.a.createElement("input",{type:"text","data-testid":"checkout-fullname",placeholder:"Nome Completo",name:"fullname",onChange:t,required:!0})),r.a.createElement("label",{htmlFor:"checkout-cpf"},r.a.createElement("input",{type:"text",maxLength:"11","data-testid":"checkout-cpf",placeholder:"CPF",name:"cpf",onChange:t,required:!0}))),r.a.createElement("div",{className:"email-phone"},r.a.createElement("label",{htmlFor:"checkout-email"},r.a.createElement("input",{type:"text","data-testid":"checkout-email",placeholder:"Email",name:"email",onChange:t,required:!0})),r.a.createElement("label",{htmlFor:"checkout-phone"},r.a.createElement("input",{type:"text","data-testid":"checkout-phone",placeholder:"Telefone",name:"phone",onChange:t,required:!0}))),r.a.createElement("div",{className:"adress"},r.a.createElement("label",{htmlFor:"checkout-cep"},r.a.createElement("input",{type:"text","data-testid":"checkout-cep",placeholder:"CEP",name:"cep",maxLength:"8",onChange:t,required:!0})),r.a.createElement("label",{htmlFor:"checkout-address"},r.a.createElement("input",{type:"text","data-testid":"checkout-address",placeholder:"Endere\xe7o",name:"address",onChange:t,required:!0})))),r.a.createElement("fieldset",{className:"payment-method"},r.a.createElement("h2",null,"M\xe9todo de Pagamento"),r.a.createElement("label",{htmlFor:"boleto"},r.a.createElement("input",{type:"radio",name:"paymentMethod",onChange:t}),"Boleto"),r.a.createElement("label",{htmlFor:"card"},r.a.createElement("h4",null,"Cart\xe3o de Cr\xe9dito"),r.a.createElement("input",{type:"radio",value:"visa",name:"paymentMethod",onChange:t}),"Visa",r.a.createElement("input",{type:"radio",value:"masterCard",name:"paymentMethod",onChange:t}),"MasterCard",r.a.createElement("input",{type:"radio",value:"elo",name:"paymentMethod",onChange:t}),"Elo")),r.a.createElement("button",{className:"finish-checkout-button",type:"submit",onClick:a},"Finalizar Compra"))}}]),a}(n.Component)),R={fullname:"",email:"",cpf:"",phone:"",cep:"",address:"",paymentMethod:"",formIsValid:!1},$=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=e.handleChange.bind(Object(p.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e)),e.state=R,e}return Object(h.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.fullname,n=t.email,r=t.cpf,c=t.phone,i=t.cep,l=t.address,s=t.paymentMethod,o=[];""===a&&o.push("fullname"),""===n&&o.push("email"),""===r&&o.push("cpf"),""===c&&o.push("phone"),""===i&&o.push("cep"),""===l&&o.push("address"),""===s&&o.push("paymentMethod"),o.length||this.setState({formIsValid:!0})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(u.a)({},n,a))}},{key:"render",value:function(){var e=this.props.cartItems;return this.state.formIsValid?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",{className:"checkout-container"},r.a.createElement("header",{className:"checkout-header"},r.a.createElement(v.b,{exact:!0,to:"/cart"},r.a.createElement("img",{src:q.a,alt:"Cart",className:"back"})),r.a.createElement("h1",null," Checkout "),r.a.createElement("div",{style:{width:"50px"}})),r.a.createElement("div",{className:"body-checkout"},r.a.createElement("div",{className:"checkout-products-review"},r.a.createElement("h2",null,"Revise seus Produtos"),e.map((function(e){return r.a.createElement("div",{className:"checkout-product",key:e.id},r.a.createElement("img",{className:"image-product-cart",src:e.thumbnail,alt:e.id}),r.a.createElement("p",{className:"cart-product-title"},e.title),r.a.createElement("p",{className:"price-params"},"Quantidade: ".concat(e.quantity)),r.a.createElement("p",{className:"price-params"},"Valor unit\xe1rio: R$ ".concat(e.price)),r.a.createElement("p",{className:"price-params"},"Valor total: R$ ".concat((e.price*e.quantity).toFixed(2))))})),r.a.createElement("div",{className:"price-total"},r.a.createElement("h2",null,"Valor Total da Compra: R$".concat(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))))),r.a.createElement(H,{handleChange:this.handleChange,handleSubmit:this.handleSubmit})))}}]),a}(n.Component),_=a(18),G=a.n(_),z=a(19),B=a.n(z),T=(a(53),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"foot"},r.a.createElement("div",{className:"color"}),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"intern-footer"},r.a.createElement("div",{className:"dev"},r.a.createElement("a",{href:"https://github.com/diogotrescastro"},r.a.createElement("img",{src:G.a,alt:"GitHub Link",className:"git-image"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/diogoaugusto/"},r.a.createElement("img",{src:B.a,alt:"Linkedin Link",className:"linkedin-image"})),r.a.createElement("span",null,r.a.createElement("b",null,"Diogo"),"\xa0Augusto")),r.a.createElement("div",{className:"dev"},r.a.createElement("a",{href:"https://github.com/gabrielafeijo"},r.a.createElement("img",{src:G.a,alt:"GitHub Link",className:"git-image"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/gabriela-feijo/"},r.a.createElement("img",{src:B.a,alt:"Linkedin Link",className:"linkedin-image"})),r.a.createElement("span",null,r.a.createElement("b",null,"Gabriela"),"\xa0Feij\xf3")),r.a.createElement("div",{className:"dev"},r.a.createElement("a",{href:"https://github.com/Halysson2"},r.a.createElement("img",{src:G.a,alt:"GitHub Link",className:"git-image"})),r.a.createElement("a",null,r.a.createElement("img",{src:B.a,alt:"Linkedin Link",className:"linkedin-image"})),r.a.createElement("span",null,r.a.createElement("b",null,"Halysson"),"\xa0Sena")),r.a.createElement("div",{className:"dev"},r.a.createElement("a",{href:"https://github.com/leonardo-pinto"},r.a.createElement("img",{src:G.a,alt:"GitHub Link",className:"git-image"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/leonardo-antonio-pinto/"},r.a.createElement("img",{src:B.a,alt:"Linkedin Link",className:"linkedin-image"})),r.a.createElement("span",null,r.a.createElement("b",null,"Leonardo"),"\xa0Pinto")),r.a.createElement("div",{className:"dev"},r.a.createElement("a",{href:"https://github.com/Sicarruda"},r.a.createElement("img",{src:G.a,alt:"GitHub Link",className:"git-image"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/jessica-arruda-62040a72/"},r.a.createElement("img",{src:B.a,alt:"Linkedin Link",className:"linkedin-image"})),r.a.createElement("span",null,r.a.createElement("b",null,"J\xe9ssica"),"\xa0Arruda")))))}}]),a}(n.Component));function U(){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return K.apply(this,arguments)}function K(){return(K=Object(m.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(54);var Y=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={categories:[],productCards:void 0,categoryId:"",search:"",cartItems:[]},e.fetchProductCategory=e.fetchProductCategory.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.fetchProducts=e.fetchProducts.bind(Object(p.a)(e)),e.fetchCategories=e.fetchCategories.bind(Object(p.a)(e)),e.addCart=e.addCart.bind(Object(p.a)(e)),e.removeCartItem=e.removeCartItem.bind(Object(p.a)(e)),e.increaseItemQuantity=e.increaseItemQuantity.bind(Object(p.a)(e)),e.decreaseItemQuantity=e.decreaseItemQuantity.bind(Object(p.a)(e)),e.setStorage=e.setStorage.bind(Object(p.a)(e)),e.getStorage=e.getStorage.bind(Object(p.a)(e)),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchProductCategory(),localStorage.getItem("localCart")&&this.getStorage()}},{key:"componentDidUpdate",value:function(){this.setStorage()}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(u.a)({},n,a))}},{key:"setStorage",value:function(){var e=this.state.cartItems;localStorage.setItem("localCart",JSON.stringify(e))}},{key:"getStorage",value:function(){var e=JSON.parse(localStorage.getItem("localCart"));this.setState({cartItems:e})}},{key:"fetchProducts",value:function(){var e=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.categoryId,n=t.search,e.next=3,X(a,n);case 3:r=e.sent,this.setState({productCards:r.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProductCategory",value:function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCategories",value:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:a=e.sent,this.setState({productCards:a.results,categoryId:t});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCart",value:function(e){var t=this.state.cartItems,a=t.some((function(t){return t.id===e.id})),n=t.find((function(t){return t.id===e.id}));a?(n.quantity+=1,this.setState({cartItems:Object(l.a)(t)})):(e.quantity=1,this.setState({cartItems:[].concat(Object(l.a)(t),[e])})),this.setStorage()}},{key:"removeCartItem",value:function(e){var t=e.target.value,a=this.state.cartItems.filter((function(e){return e.id!==t}));this.setState({cartItems:a})}},{key:"increaseItemQuantity",value:function(e){var t=e.target.value,a=this.state.cartItems,n=a.find((function(e){return e.id===t}));n&&(this.setState({cartItems:Object(l.a)(a)}),n.quantity+=1)}},{key:"decreaseItemQuantity",value:function(e){var t=e.target.value,a=this.state.cartItems,n=a.find((function(e){return e.id===t}));n.quantity>1&&(this.setState({cartItems:Object(l.a)(a)}),n.quantity-=1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.productCards,c=t.cartItems;return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(){return r.a.createElement(I,{handleChange:e.handleChange,fetchProducts:e.fetchProducts,fetchCategories:e.fetchCategories,addCart:e.addCart,categories:a,productCards:n,cartItems:c})}}),r.a.createElement(b.b,{path:"/cart",render:function(t){return r.a.createElement(M,Object.assign({removeCartItem:e.removeCartItem,increaseItemQuantity:e.increaseItemQuantity,decreaseItemQuantity:e.decreaseItemQuantity,cartItems:c},t))}}),r.a.createElement(b.b,{path:"/details/:id",render:function(t){return r.a.createElement(A,Object.assign({cartItems:c,addCart:e.addCart},t))}}),r.a.createElement(b.b,{path:"/checkout",render:function(){return r.a.createElement($,{cartItems:c})}}))),r.a.createElement(T,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[36,1,2]]]);
//# sourceMappingURL=main.cc585163.chunk.js.map